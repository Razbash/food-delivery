"use strict";(self.webpackChunkfood_delivery=self.webpackChunkfood_delivery||[]).push([[427],{3302:function(e,n,s){s.d(n,{Z:function(){return r}});var t=s(184),r=function(e){var n=e.text;return(0,t.jsx)("h5",{className:"block-title",children:n})}},6266:function(e,n,s){s.r(n),s.d(n,{default:function(){return E}});var t=s(9439),r=s(2791),a=s(3302),i=s(9605),c=s(3912),l=s(4833),o=s(1449),u=s(295),d=s(8164),h=s(7185),m=s(184),p=function(){return(0,m.jsx)(h.Z,{})},f=s(7567),x=s(8683),j=s(4165),_=s(5861),v=s(9388),N=s(112),b=function(e){return function(){var n=(0,_.Z)((0,j.Z)().mark((function n(s){var t;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(N.f.actions.fetching()),n.next=4,v.Z.get("shippingAddresses?userId=".concat(e));case 4:t=n.sent,s(N.f.actions.fetchSuccess(t.data)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),s(N.f.actions.fetchError(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e){var n=e.userId,s=(0,r.useState)(""),a=(0,t.Z)(s,2),c=a[0],l=a[1],o=(0,r.useState)(""),u=(0,t.Z)(o,2),h=u[0],p=u[1],g=(0,r.useState)(""),y=(0,t.Z)(g,2),Z=y[0],C=y[1],k=(0,r.useState)(""),S=(0,t.Z)(k,2),w=S[0],I=S[1],E=(0,r.useState)(""),A=(0,t.Z)(E,2),R=A[0],F=A[1],P=(0,r.useState)(""),q=(0,t.Z)(P,2),D=q[0],L=q[1],T=(0,i.T)(),U=function(e){e.preventDefault(),T(function(e,n){return function(){var s=(0,_.Z)((0,j.Z)().mark((function s(t){return(0,j.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t(N.f.actions.fetching()),s.next=4,(0,v.Z)({method:"POST",url:"shippingAddresses",data:(0,x.Z)({},e)});case 4:s.sent,t(b(n)),t((0,d.pM)({type:d.j_.sucsses,text:"The address has been added"})),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(0),t(N.f.actions.fetchError(s.t0)),t((0,d.pM)({type:d.j_.error,text:"An error occurred while updating"}));case 13:case"end":return s.stop()}}),s,null,[[0,9]])})));return function(e){return s.apply(this,arguments)}}()}({userId:n,addressName:Z,country:c,state:h,city:Z,addressLine1:w,addressLine2:R,coordinates:D},n))};return(0,m.jsxs)("div",{className:"add-user-addresses",children:[(0,m.jsx)("h6",{className:"user-profile-block-title",children:"New shipping address"}),(0,m.jsxs)("form",{className:"add-user-addresses__chapter",onSubmit:function(e){return U(e)},children:[(0,m.jsxs)("div",{className:"add-user-addresses__inputs",children:[(0,m.jsx)(f.I,{label:"Country*",id:"country",placeholder:"Enter country",isRequired:!0,value:c,onChange:l}),(0,m.jsx)(f.I,{label:"State*",id:"state",placeholder:"Enter state",isRequired:!0,value:h,onChange:p}),(0,m.jsx)(f.I,{label:"City*",id:"city",placeholder:"Enter city",isRequired:!0,value:Z,onChange:C}),(0,m.jsx)(f.I,{label:"Address line 1*",id:"address_line_primary",placeholder:"Enter address",isRequired:!0,value:w,onChange:I}),(0,m.jsx)(f.I,{label:"Address line 2",id:"address_line_secondary",placeholder:"Enter address (optional)",value:R,onChange:F}),(0,m.jsx)(f.I,{label:"Coordinates",id:"\u0441oordinates",placeholder:"Enter \u0441oordinates (optional)",value:D,onChange:L})]}),(0,m.jsx)("button",{type:"submit",className:"button button--contained add-user-addresses__add-new-address-button",children:"Add new address"})]})]})},y=function(){return(0,m.jsx)(g,{userId:(0,o.e)("userId")})},Z=s(3264),C=s.n(Z),k=s(7689),S=s(9146),w=function(e){var n=e.userData,s=n.id,a=n.image,l=n.firstName,u=n.lastName,d=n.email,h=n.phone,p=n.password,x=(0,r.useState)([]),j=(0,t.Z)(x,2),_=j[0],v=j[1],N=(0,r.useState)(l),b=(0,t.Z)(N,2),g=b[0],y=b[1],Z=(0,r.useState)(u),w=(0,t.Z)(Z,2),I=w[0],E=w[1],A=(0,r.useState)(d),R=(0,t.Z)(A,2),F=R[0],P=R[1],q=(0,r.useState)(h||""),D=(0,t.Z)(q,2),L=D[0],T=D[1],U=(0,i.T)(),O=(0,k.s0)(),B="";return(0,m.jsx)("div",{className:"user-personal-information",children:(0,m.jsxs)("div",{className:"user-personal-information__content user-profile-content",children:[(0,m.jsx)("h6",{className:"user-personal-information__content-title user-profile-block-title",children:"Personal information"}),(0,m.jsxs)("div",{className:"user-personal-information__chapter user-profile-chapter",children:[(0,m.jsx)("span",{className:"user-personal-information__label",children:"Avatar"}),(0,m.jsx)(C(),{value:_,onChange:function(e){v(e)},dataURLKey:"data_url",children:function(e){var n=e.imageList,s=e.onImageUpload;return(0,m.jsxs)("div",{className:"user-personal-information__image-controls",children:[(0,m.jsx)("div",{style:{display:"none"},children:B=n.length?n[0].data_url:a}),(0,m.jsx)("div",{className:"user-personal-information__user-image",style:{backgroundImage:"url("+B+")"}}),(0,m.jsx)("button",{className:"button button--outlined-blue user-personal-information__cnahge-button",onClick:s,children:"Change"}),(0,m.jsx)("button",{className:"button button--text-gray",children:"Remove"})]})}}),(0,m.jsxs)("div",{className:"user-personal-information__textareas",children:[(0,m.jsx)(f.I,{id:"first_name",label:"First name",placeholder:"Jane",value:g,onChange:y}),(0,m.jsx)(f.I,{id:"last_name",label:"Last name",placeholder:"Robetson",value:I,onChange:E}),(0,m.jsx)(f.I,{id:"email",type:"email",label:"Email",placeholder:"name@example.com",value:F,onChange:P}),(0,m.jsx)(f.I,{id:"phone",label:"Phone",placeholder:"(217) 555-0113",value:L,onChange:T})]})]}),(0,m.jsx)("div",{className:"user-personal-information__chapter user-profile-chapter",children:(0,m.jsxs)("div",{className:"user-personal-information__controls",children:[(0,m.jsx)("button",{className:"button button--outlined-red",onClick:function(){(0,o.d)("userId",""),O("/auth")},children:"Log out"}),(0,m.jsx)("button",{className:"button button--outlined-gray",children:"Discard changes"}),(0,m.jsx)("button",{className:"button button--contained",onClick:function(){var e={id:s,image:a,password:p,firstName:g,lastName:I,email:F,phone:L};_.length&&(e.image=_[0].data_url),U((0,c.Y)(e,S.Z.UPDATE))},children:"Save changes"})]})})]})})},I=function(){return(0,m.jsx)(h.Z,{})},E=function(){var e=(0,r.useState)(0),n=(0,t.Z)(e,2),s=n[0],h=n[1],f=(0,i.C)((function(e){return e.user})),x=f.user,j=(f.error,(0,i.T)());(0,r.useEffect)((function(){var e=(0,o.e)("userId");j((0,c.B)("",e))}),[]);var _=[{title:"Account",description:"Personal information",icon:(0,m.jsx)(l.tB,{})},{title:"Address",description:"Shippings addresses",icon:(0,m.jsx)(l.jj,{})},{title:"Payment method",description:"Connected credit cards",icon:(0,m.jsx)(l._K,{})},{title:"Security",description:"Password, 2FA",icon:(0,m.jsx)(l.b7,{})}];return(0,m.jsxs)(u.Z,{children:[(0,m.jsxs)("div",{className:"user-profile",children:[(0,m.jsxs)("div",{className:"user-profile__navigation",children:[(0,m.jsx)(a.Z,{text:"Settings"}),(0,m.jsx)("div",{className:"user-profile__tabs",children:_.map((function(e,n){var t=e.title,r=e.description,a=e.icon,i=s===n?"user-profile__tab-item user-profile__tab-item--active":"user-profile__tab-item";return(0,m.jsxs)("div",{className:i,tabIndex:1,onClick:function(){h(n)},children:[(0,m.jsx)("div",{className:"user-profile__tab-icon-wrapper",children:a}),(0,m.jsxs)("div",{className:"user-profile__tab-info",children:[(0,m.jsx)("span",{className:"user-profile__tab-title",children:t}),(0,m.jsx)("span",{className:"user-profile__tab-subtitle",children:r})]})]},n)}))})]}),(0,m.jsxs)("div",{className:"user-profile__content",children:[0===s&&x?(0,m.jsx)(w,{userData:x}):null,1===s&&x?(0,m.jsx)(y,{}):null,2===s&&x?(0,m.jsx)(p,{}):null,3===s&&x?(0,m.jsx)(I,{}):null]})]}),(0,m.jsx)(d.P_,{})]})}},295:function(e,n,s){s.d(n,{Z:function(){return v}});var t=s(3837),r=s(184),a=function(){return(0,r.jsx)("div",{className:"footer__right",children:[{title:"Responses",elements:["How it works","Guarantees","Security","Pricing"]},{title:"Company",elements:["About us","Prices","Blog","License"]},{title:"Support",elements:["Getting started","Help center","Report a bug","Contact us"]}].map((function(e,n){return(0,r.jsxs)("div",{className:"footer__column",children:[(0,r.jsx)("span",{className:"footer__menu-item footer__menu-item--title",children:e.title}),e.elements.map((function(e,n){return(0,r.jsx)("span",{className:"footer__menu-item",children:e},n)}))]},n)}))})},i=s(4833),c=function(){var e=[(0,r.jsx)(i.Vq,{}),(0,r.jsx)(i.Zm,{}),(0,r.jsx)(i.yu,{}),(0,r.jsx)(i.LK,{}),(0,r.jsx)(i.pA,{})];return(0,r.jsx)("div",{className:"social-network",children:e.map((function(e,n){return(0,r.jsx)("div",{className:"social-network__item",children:e},n)}))})},l=function(){return(0,r.jsx)("div",{className:"footer",children:(0,r.jsxs)("div",{className:"footer__wrapper container",children:[(0,r.jsxs)("div",{className:"footer__left",children:[(0,r.jsx)(t.D,{color:t.F.white}),(0,r.jsx)(c,{}),(0,r.jsx)("span",{className:"footer__copyright",children:"\xa9 \u041b\u0438\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0414\u043c\u0438\u0442\u0440\u0438\u044f \u0411\u0435\u0437\u0437\u0443\u0431\u043e\u0432\u0430"})]}),(0,r.jsx)(a,{}),(0,r.jsx)("span",{className:"footer__copyright footer__copyright--mobile",children:"\xa9 \u041b\u0438\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0414\u043c\u0438\u0442\u0440\u0438\u044f \u0411\u0435\u0437\u0437\u0443\u0431\u043e\u0432\u0430"})]})})},o=s(9439),u=s(2791),d=s(1087),h=s(9605),m=s(3912),p=s(3239),f=s(1449),x=function(){var e=(0,u.useState)(0),n=(0,o.Z)(e,2),s=n[0],t=n[1],a=(0,u.useState)("../../assets/images/users/user.png"),c=(0,o.Z)(a,2),l=c[0],x=c[1],j=(0,u.useState)("auth"),_=(0,o.Z)(j,2),v=_[0],N=_[1],b=(0,h.T)(),g=(0,h.C)((function(e){return e.user})).user;return(0,u.useEffect)((function(){t((0,p.Gb)());var e=(0,f.e)("userId");e&&b((0,m.B)("",e))}),[]),(0,u.useEffect)((function(){g&&(N("account"),g.image&&x(g.image))}),[g]),(0,r.jsxs)("div",{className:"menu",children:[(0,r.jsx)("ul",{className:"menu__text",children:[{title:"Restaurants",link:"/restaurants"},{title:"Deals",link:"/deals"},{title:"My orders",link:"/orders"}].map((function(e,n){return(0,r.jsx)("li",{className:"menu__text-item",children:(0,r.jsx)(d.OL,{to:e.link,end:!0,style:function(e){return{color:e.isActive?"#4E60FF":"inherit"}},children:e.title})},n)}))}),(0,r.jsxs)(d.rU,{to:"/cart",className:"menu__cart",children:[(0,r.jsx)("div",{className:"menu__cart-icon",children:(0,r.jsx)(i.w7,{})}),(0,r.jsx)("span",{className:"menu__cart-counter",children:s})]}),(0,r.jsx)(d.rU,{to:"/".concat(v),className:"menu__user",children:(0,r.jsx)("img",{src:l,alt:"User",className:"menu__user-image",width:"48",height:"48"})})]})},j=function(){var e=(0,u.useState)(""),n=(0,o.Z)(e,2),s=n[0],t=n[1],a=s?"/search/".concat(s):"/reustorants";return(0,r.jsxs)("div",{className:"search",children:[(0,r.jsx)("input",{type:"search",className:"search__input",placeholder:"Search",value:s,onChange:function(e){return function(e){t(e.target.value)}(e)}}),(0,r.jsx)(d.rU,{to:a,className:"search__icon",children:(0,r.jsx)(i.W1,{})})]})},_=function(){var e=(0,u.useState)(!1),n=(0,o.Z)(e,2),s=n[0],a=n[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"header",children:(0,r.jsxs)("div",{className:"container header__wrapper",children:[(0,r.jsx)(t.D,{color:t.F.black}),(0,r.jsx)(j,{}),(0,r.jsx)(x,{}),(0,r.jsx)("div",{className:"header__icon-wrapper",onClick:function(){a(!0)},children:(0,r.jsx)(i.Uq,{})})]})}),s?(0,r.jsx)("div",{className:"header header--mobile",children:(0,r.jsxs)("div",{className:"container header__wrapper",children:[(0,r.jsxs)("div",{className:"header__title",children:[(0,r.jsx)(t.D,{color:t.F.black}),(0,r.jsx)("div",{className:"header__icon-wrapper",onClick:function(){a(!1)},children:(0,r.jsx)(i.aM,{})})]}),(0,r.jsx)(x,{}),(0,r.jsx)(j,{})]})}):null]})},v=function(e){var n=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{}),(0,r.jsx)("div",{className:"container",children:n}),(0,r.jsx)(l,{})]})}},7567:function(e,n,s){s.d(n,{X:function(){return a},I:function(){return r}});var t=s(184),r=function(e){var n=e.label,s=e.id,r=e.value,a=e.placeholder,i=e.onChange,c=e.icon,l=e.isRequired,o=void 0!==l&&l,u=e.type,d=void 0===u?"text":u,h=e.autocomplete,m=void 0===h?"off":h,p=function(e){i(e)};return(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("label",{htmlFor:s,className:"input-label",children:n}),(0,t.jsxs)("div",{className:"input-with-icon",children:[(0,t.jsx)("input",{type:d,id:s,className:"input",required:o,placeholder:a,value:r,autoComplete:m,onChange:function(e){return p(e.target.value)}}),c||null]})]})},a=function(e){var n=e.id,s=e.label,r=e.value,a=e.setValue;return(0,t.jsxs)("label",{className:"checkbox",children:[(0,t.jsx)("input",{type:"checkbox",id:n,className:"checkbox__input",checked:r,onChange:function(){a(!r)}}),(0,t.jsx)("span",{className:"checkbox__label",children:s})]})}},7185:function(e,n,s){s.d(n,{Z:function(){return r}});var t=s(184),r=function(){return(0,t.jsxs)("div",{className:"plug",children:[(0,t.jsx)("h2",{className:"plug__title",children:"Coming soon"}),(0,t.jsx)("span",{className:"plug__text",children:"This section is in development"})]})}},3239:function(e,n,s){s.d(n,{Gb:function(){return i},Xq:function(){return r},h2:function(){return a}});var t=s(1449);function r(e){var n=(0,t.e)("cart");if(n){var s=!1;n.forEach((function(t,r){t.productId===e.productId&&(n[r].count=t.count+e.count,s=!0)})),s||n.push(e),(0,t.d)("cart",JSON.stringify(n))}else{var r=JSON.stringify([e]);(0,t.d)("cart",r)}}function a(e){var n=(0,t.e)("cart").filter((function(n,s){return s!==e}));(0,t.d)("cart",JSON.stringify(n))}function i(){var e=(0,t.e)("cart");return e?e.reduce((function(e,n){return e+n.count}),0):0}}}]);
//# sourceMappingURL=427.2ee18639.chunk.js.map