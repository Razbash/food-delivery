"use strict";(self.webpackChunkfood_delivery=self.webpackChunkfood_delivery||[]).push([[585],{7536:function(e,t,n){var r;n.d(t,{Z:function(){return c}}),function(e){e.INCREASE="increase",e.DESCRESE="descrese"}(r||(r={}));var a=r,s=n(184),c=function(e){var t=e.counter,n=e.onChangeCounter,r="quantity__decrease";1===t&&(r+=" quantity__decrease--disabled");var c=function(e){switch(e){case a.INCREASE:n(t+1);break;case a.DESCRESE:n(t-1)}};return(0,s.jsxs)("div",{className:"quantity",children:[(0,s.jsx)("span",{className:r,onClick:function(){return c(a.DESCRESE)},children:"-"}),(0,s.jsx)("span",{className:"quantity__value",children:t}),(0,s.jsx)("span",{className:"quantity__increase",onClick:function(){return c(a.INCREASE)},children:"+"})]})}},295:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(3837),a=n(184),s=function(){return(0,a.jsx)("div",{className:"footer__right",children:[{title:"Responses",elements:["How it works","Guarantees","Security","Pricing"]},{title:"Company",elements:["About us","Prices","Blog","License"]},{title:"Support",elements:["Getting started","Help center","Report a bug","Contact us"]}].map((function(e,t){return(0,a.jsxs)("div",{className:"footer__column",children:[(0,a.jsx)("span",{className:"footer__menu-item footer__menu-item--title",children:e.title}),e.elements.map((function(e,t){return(0,a.jsx)("span",{className:"footer__menu-item",children:e},t)}))]},t)}))})},c=n(4833),i=function(){var e=[(0,a.jsx)(c.Vq,{}),(0,a.jsx)(c.Zm,{}),(0,a.jsx)(c.yu,{}),(0,a.jsx)(c.LK,{}),(0,a.jsx)(c.pA,{})];return(0,a.jsx)("div",{className:"social-network",children:e.map((function(e,t){return(0,a.jsx)("div",{className:"social-network__item",children:e},t)}))})},u=function(){return(0,a.jsx)("div",{className:"footer",children:(0,a.jsxs)("div",{className:"footer__wrapper container",children:[(0,a.jsxs)("div",{className:"footer__left",children:[(0,a.jsx)(r.D,{color:r.F.white}),(0,a.jsx)(i,{}),(0,a.jsx)("span",{className:"footer__copyright",children:"\xa9 \u041b\u0438\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0414\u043c\u0438\u0442\u0440\u0438\u044f \u0411\u0435\u0437\u0437\u0443\u0431\u043e\u0432\u0430"})]}),(0,a.jsx)(s,{}),(0,a.jsx)("span",{className:"footer__copyright footer__copyright--mobile",children:"\xa9 \u041b\u0438\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0414\u043c\u0438\u0442\u0440\u0438\u044f \u0411\u0435\u0437\u0437\u0443\u0431\u043e\u0432\u0430"})]})})},o=n(9439),l=n(2791),d=n(1087),m=n(9605),_=n(3912),p=n(3239),f=n(1449),h=function(){var e=(0,l.useState)(0),t=(0,o.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)("../../assets/images/users/user.png"),i=(0,o.Z)(s,2),u=i[0],h=i[1],x=(0,l.useState)("auth"),j=(0,o.Z)(x,2),v=j[0],N=j[1],g=(0,m.T)(),C=(0,m.C)((function(e){return e.user})).user;return(0,l.useEffect)((function(){r((0,p.Gb)());var e=(0,f.e)("userId");e&&g((0,_.B)("",e))}),[]),(0,l.useEffect)((function(){C&&(N("account"),C.image&&h(C.image))}),[C]),(0,a.jsxs)("div",{className:"menu",children:[(0,a.jsx)("ul",{className:"menu__text",children:[{title:"Restaurants",link:"/restaurants"},{title:"Deals",link:"/deals"},{title:"My orders",link:"/orders"}].map((function(e,t){return(0,a.jsx)("li",{className:"menu__text-item",children:(0,a.jsx)(d.OL,{to:e.link,end:!0,style:function(e){return{color:e.isActive?"#4E60FF":"inherit"}},children:e.title})},t)}))}),(0,a.jsxs)(d.rU,{to:"/cart",className:"menu__cart",children:[(0,a.jsx)("div",{className:"menu__cart-icon",children:(0,a.jsx)(c.w7,{})}),(0,a.jsx)("span",{className:"menu__cart-counter",children:n})]}),(0,a.jsx)(d.rU,{to:"/".concat(v),className:"menu__user",children:(0,a.jsx)("img",{src:u,alt:"User",className:"menu__user-image",width:"48",height:"48"})})]})},x=function(){var e=(0,l.useState)(""),t=(0,o.Z)(e,2),n=t[0],r=t[1],s=n?"/search/".concat(n):"/reustorants";return(0,a.jsxs)("div",{className:"search",children:[(0,a.jsx)("input",{type:"search",className:"search__input",placeholder:"Search",value:n,onChange:function(e){return function(e){r(e.target.value)}(e)}}),(0,a.jsx)(d.rU,{to:s,className:"search__icon",children:(0,a.jsx)(c.W1,{})})]})},j=function(){var e=(0,l.useState)(!1),t=(0,o.Z)(e,2),n=t[0],s=t[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"header",children:(0,a.jsxs)("div",{className:"container header__wrapper",children:[(0,a.jsx)(r.D,{color:r.F.black}),(0,a.jsx)(x,{}),(0,a.jsx)(h,{}),(0,a.jsx)("div",{className:"header__icon-wrapper",onClick:function(){s(!0)},children:(0,a.jsx)(c.Uq,{})})]})}),n?(0,a.jsx)("div",{className:"header header--mobile",children:(0,a.jsxs)("div",{className:"container header__wrapper",children:[(0,a.jsxs)("div",{className:"header__title",children:[(0,a.jsx)(r.D,{color:r.F.black}),(0,a.jsx)("div",{className:"header__icon-wrapper",onClick:function(){s(!1)},children:(0,a.jsx)(c.aM,{})})]}),(0,a.jsx)(h,{}),(0,a.jsx)(x,{})]})}):null]})},v=function(e){var t=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{}),(0,a.jsx)("div",{className:"container",children:t}),(0,a.jsx)(u,{})]})}},6392:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(9439),a=n(2791),s=n(7689),c=n(9605),i=n(6191),u=n(8164),o=n(3239),l=n(295),d=n(4165),m=n(5861),_=n(9388),p=n(4814),f=n(1087),h=n(4833),x=n(184),j=function(e){var t=e.link,n=e.text;return(0,x.jsxs)(f.rU,{to:t,className:"navigation",children:[(0,x.jsx)(h.e0,{}),(0,x.jsx)("span",{className:"navigation__text",children:n})]})},v=n(7536),N=function(e){var t=e.product,n=e.restaurantId,s=e.restaurantName,c=e.counter,i=e.onChangeCounter,u=e.addProductToCart,o=(0,a.useState)(0),l=(0,r.Z)(o,2),d=l[0],m=l[1],_=t.images,p=t.name,f=t.description,h=t.nutritionalValue,N=t.ingredients,g=t.price;return(0,x.jsxs)("div",{className:"product-detail",children:[(0,x.jsx)(j,{link:"/restaurant/".concat(n),text:s}),(0,x.jsxs)("div",{className:"product-detail__wrapper",children:[(0,x.jsxs)("div",{className:"product-detail__images-gallery",children:[(0,x.jsx)("div",{className:"product-detail__images",children:_?_.map((function(e,t){var n={backgroundImage:"url("+e+")"},r="product-detail__image";return t===d&&(r+=" product-detail__image--active"),(0,x.jsx)("div",{className:r,style:n,onMouseEnter:function(){return m(t)}},t)})):null}),(0,x.jsx)("div",{className:"product-detail__main-image",style:{backgroundImage:"url("+_[d]+")"}})]}),(0,x.jsxs)("div",{className:"product-detail__info",children:[(0,x.jsx)("h4",{className:"product-detail__title",children:p}),(0,x.jsx)("p",{className:"product-detail__description",children:f}),(0,x.jsxs)("div",{className:"product-detail__controls",children:[(0,x.jsxs)("span",{className:"product-detail__price",children:["$ ",g.toFixed(2)]}),(0,x.jsx)(v.Z,{counter:c,onChangeCounter:i}),(0,x.jsx)("button",{className:"button button--contained",onClick:function(){return u()},children:"Add to cart"})]}),(0,x.jsxs)("div",{className:"product-detail__additional-info",children:[N?(0,x.jsxs)("div",{className:"product-detail__additional-info-item",children:[(0,x.jsx)("span",{className:"product-detail__additional-info-title",children:"Ingredients"}),(0,x.jsx)("p",{className:"product-detail__additional-info-value",children:N})]}):null,h?(0,x.jsxs)("div",{className:"product-detail__additional-info-item",children:[(0,x.jsx)("span",{className:"product-detail__additional-info-title",children:"Nutritional value"}),(0,x.jsx)("p",{className:"product-detail__additional-info-value",children:h})]}):null]})]})]})]})},g=function(){return(0,x.jsx)("div",{className:"product-detail product-detail--skeleton",children:(0,x.jsxs)("div",{className:"product-detail__wrapper",children:[(0,x.jsxs)("div",{className:"product-detail__images-gallery",children:[(0,x.jsxs)("div",{className:"product-detail__images",children:[(0,x.jsx)("div",{className:"product-detail__image"}),(0,x.jsx)("div",{className:"product-detail__image"}),(0,x.jsx)("div",{className:"product-detail__image"})]}),(0,x.jsx)("div",{className:"product-detail__main-image"})]}),(0,x.jsxs)("div",{className:"product-detail__info",children:[(0,x.jsx)("p",{className:"product-detail__title"}),(0,x.jsx)("p",{className:"product-detail__description"})]})]})})},C=function(){var e=(0,s.UO)().productId,t=(0,c.C)((function(e){return e.product})),n=t.error,f=t.loading,h=t.product,j=(0,c.C)((function(e){return e.restaurant})).restaurant,v=(0,a.useState)(1),C=(0,r.Z)(v,2),k=C[0],y=C[1],E=(0,c.T)();(0,a.useEffect)((function(){var t;E((t=Number(e),function(){var e=(0,m.Z)((0,d.Z)().mark((function e(n){var r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(p.m.actions.fetching()),e.next=4,_.Z.get("products/".concat(t));case 4:r=e.sent,n(p.m.actions.fetchSuccess(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(p.m.actions.fetchError(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[]),(0,a.useEffect)((function(){h.restaurantId&&E((0,i.i)(h.restaurantId))}),[h]),(0,a.useEffect)((function(){n&&E((0,u.pM)({type:u.j_.error,text:"An error occurred while loading the product info. (".concat(n,")")}))}),[n]);return(0,x.jsxs)(l.Z,{children:[f?(0,x.jsx)(g,{}):null,h?(0,x.jsx)(N,{product:h,restaurantId:j.id,restaurantName:j.name,counter:k,onChangeCounter:function(e){y(e)},addProductToCart:function(){var t={productId:Number(e),count:k};(0,o.Xq)(t),E((0,u.pM)({type:u.j_.sucsses,text:"The product has been added to the cart"}))}}):null,(0,x.jsx)(u.P_,{})]})}},6191:function(e,t,n){n.d(t,{i:function(){return i}});var r=n(4165),a=n(5861),s=n(9388),c=n(9307),i=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(c.A.actions.fetching()),t.next=4,s.Z.get("restaurants/".concat(e));case 4:a=t.sent,n(c.A.actions.fetchSuccess(a.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(c.A.actions.fetchError(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},3239:function(e,t,n){n.d(t,{Gb:function(){return c},Xq:function(){return a},h2:function(){return s}});var r=n(1449);function a(e){var t=(0,r.e)("cart");if(t){var n=!1;t.forEach((function(r,a){r.productId===e.productId&&(t[a].count=r.count+e.count,n=!0)})),n||t.push(e),(0,r.d)("cart",JSON.stringify(t))}else{var a=JSON.stringify([e]);(0,r.d)("cart",a)}}function s(e){var t=(0,r.e)("cart").filter((function(t,n){return n!==e}));(0,r.d)("cart",JSON.stringify(t))}function c(){var e=(0,r.e)("cart");return e?e.reduce((function(e,t){return e+t.count}),0):0}}}]);
//# sourceMappingURL=585.5c28cd35.chunk.js.map