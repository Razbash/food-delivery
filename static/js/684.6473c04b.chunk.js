"use strict";(self.webpackChunkfood_delivery=self.webpackChunkfood_delivery||[]).push([[684],{3302:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(184),s=function(e){var t=e.text;return(0,r.jsx)("h5",{className:"block-title",children:t})}},7536:function(e,t,n){var r;n.d(t,{Z:function(){return c}}),function(e){e.INCREASE="increase",e.DESCRESE="descrese"}(r||(r={}));var s=r,a=n(184),c=function(e){var t=e.counter,n=e.onChangeCounter,r="quantity__decrease";1===t&&(r+=" quantity__decrease--disabled");var c=function(e){switch(e){case s.INCREASE:n(t+1);break;case s.DESCRESE:n(t-1)}};return(0,a.jsxs)("div",{className:"quantity",children:[(0,a.jsx)("span",{className:r,onClick:function(){return c(s.DESCRESE)},children:"-"}),(0,a.jsx)("span",{className:"quantity__value",children:t}),(0,a.jsx)("span",{className:"quantity__increase",onClick:function(){return c(s.INCREASE)},children:"+"})]})}},3204:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(8683),s=n(9439),a=n(2791),c=n(9605),i=n(1449),o=n(4098),u=n(3239),l=n(295),d=n(3302),m=n(184),h=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"cart__list-item cart__list-item--loading"}),(0,m.jsx)("div",{className:"cart__list-item cart__list-item--loading"}),(0,m.jsx)("div",{className:"cart__list-item cart__list-item--loading"})]})},f=n(1087),x=n(7536),_=function(){return(0,m.jsxs)("svg",{viewBox:"0 0 512 512",className:"icon trash-icon",children:[(0,m.jsx)("path",{d:"M356.65,450H171.47a41,41,0,0,1-40.9-40.9V120.66a15,15,0,0,1,15-15h237a15,15,0,0,1,15,15V409.1A41,41,0,0,1,356.65,450ZM160.57,135.66V409.1a10.91,10.91,0,0,0,10.9,10.9H356.65a10.91,10.91,0,0,0,10.91-10.9V135.66Z"}),(0,m.jsx)("path",{d:"M327.06,135.66h-126a15,15,0,0,1-15-15V93.4A44.79,44.79,0,0,1,230.8,48.67h66.52A44.79,44.79,0,0,1,342.06,93.4v27.26A15,15,0,0,1,327.06,135.66Zm-111-30h96V93.4a14.75,14.75,0,0,0-14.74-14.73H230.8A14.75,14.75,0,0,0,216.07,93.4Z"}),(0,m.jsx)("path",{d:"M264.06,392.58a15,15,0,0,1-15-15V178.09a15,15,0,1,1,30,0V377.58A15,15,0,0,1,264.06,392.58Z"}),(0,m.jsx)("path",{d:"M209.9,392.58a15,15,0,0,1-15-15V178.09a15,15,0,0,1,30,0V377.58A15,15,0,0,1,209.9,392.58Z"}),(0,m.jsx)("path",{d:"M318.23,392.58a15,15,0,0,1-15-15V178.09a15,15,0,0,1,30,0V377.58A15,15,0,0,1,318.23,392.58Z"}),(0,m.jsx)("path",{d:"M405.81,135.66H122.32a15,15,0,0,1,0-30H405.81a15,15,0,0,1,0,30Z"})]})},j=function(e){var t=e.id,n=e.image,r=e.linkToProduct,c=e.name,o=e.description,u=e.countUserCartItems,l=e.price,d=e.index,h=e.userCart,j=e.onHandlerRemoveProductFromCart,p=e.calculateCountProductsInCart,v=(0,a.useState)(u*l),N=(0,s.Z)(v,2),g=N[0],k=N[1],C=(0,a.useState)(u),Z=(0,s.Z)(C,2),y=Z[0],S=Z[1];return(0,a.useEffect)((function(){k(y*l),p();var e=h.map((function(e){return e.productId===t&&(e.count=y),e}));(0,i.d)("cart",JSON.stringify(e))}),[y]),(0,m.jsxs)("div",{className:"cart__list-item",children:[(0,m.jsx)("div",{style:{backgroundImage:"url("+n+")"},className:"cart__item-image"}),(0,m.jsxs)("div",{className:"cart__item-product-info",children:[(0,m.jsx)(f.rU,{to:r,className:"cart__item-name",children:c}),(0,m.jsx)("p",{className:"cart__item-description",children:o})]}),(0,m.jsxs)("div",{className:"cart__item-controls",children:[(0,m.jsx)(x.Z,{counter:y,onChangeCounter:S}),(0,m.jsxs)("span",{className:"cart__item-price",children:["$",g.toFixed(2)]}),(0,m.jsx)("div",{className:"cart__item-remove",onClick:function(){return j(d)},children:(0,m.jsx)(_,{})})]})]})},p=function(){return(0,m.jsxs)("div",{className:"cart-is-empty",children:[(0,m.jsx)("h3",{className:"cart-is-empty__title",children:"The basket is empty"}),(0,m.jsx)("p",{className:"cart-is-empty__text",children:"Take a look at the main page to select products or find what you need in the search"}),(0,m.jsx)(f.rU,{to:"/",className:"cart-is-empty__link button",children:"Go to the main page"})]})},v=function(){var e=(0,a.useState)([]),t=(0,s.Z)(e,2),n=t[0],f=t[1],x=(0,a.useState)([]),_=(0,s.Z)(x,2),v=_[0],N=_[1],g=(0,a.useState)(0),k=(0,s.Z)(g,2),C=k[0],Z=k[1],y=(0,c.T)(),S=(0,c.C)((function(e){return e.products})),E=S.productsLoading,b=S.products;(0,a.useEffect)((function(){f((0,i.e)("cart")),y((0,o.t)())}),[]),(0,a.useEffect)((function(){var e=[];b&&n&&(b.forEach((function(t){n.forEach((function(n,s){t.id===n.productId&&(e[s]=(0,r.Z)((0,r.Z)({},t),{},{count:n.count}))}))})),N(e),w())}),[b,n]);var w=function(){Z((0,u.Gb)())},A=function(e){(0,u.h2)(e),f((0,i.e)("cart"))};return(0,m.jsx)(l.Z,{children:n&&n.length?(0,m.jsxs)("div",{className:"cart",children:[(0,m.jsx)(d.Z,{text:"My cart"}),(0,m.jsx)("div",{className:"cart__wrapper",children:(0,m.jsxs)("div",{className:"cart__block-item",children:[(0,m.jsxs)("div",{className:"cart__block-item-title",children:[(0,m.jsx)("h6",{className:"cart__block-item-title-text",children:"Menu"}),(0,m.jsxs)("span",{className:"cart__block-item-title-counter",children:[C," meals"]})]}),(0,m.jsxs)("div",{className:"cart__list",children:[E?(0,m.jsx)(h,{}):null,v.map((function(e,t){var r="/products/".concat(e.id);return(0,m.jsx)(j,{linkToProduct:r,index:t,onHandlerRemoveProductFromCart:A,calculateCountProductsInCart:w,userCart:n,id:e.id,image:e.images[0],name:e.name,description:e.description,countUserCartItems:e.count,price:e.price},e.id)}))]})]})})]}):(0,m.jsx)(p,{})})}},295:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(3837),s=n(184),a=function(){return(0,s.jsx)("div",{className:"footer__right",children:[{title:"Responses",elements:["How it works","Guarantees","Security","Pricing"]},{title:"Company",elements:["About us","Prices","Blog","License"]},{title:"Support",elements:["Getting started","Help center","Report a bug","Contact us"]}].map((function(e,t){return(0,s.jsxs)("div",{className:"footer__column",children:[(0,s.jsx)("span",{className:"footer__menu-item footer__menu-item--title",children:e.title}),e.elements.map((function(e,t){return(0,s.jsx)("span",{className:"footer__menu-item",children:e},t)}))]},t)}))})},c=n(4833),i=function(){var e=[(0,s.jsx)(c.Vq,{}),(0,s.jsx)(c.Zm,{}),(0,s.jsx)(c.yu,{}),(0,s.jsx)(c.LK,{}),(0,s.jsx)(c.pA,{})];return(0,s.jsx)("div",{className:"social-network",children:e.map((function(e,t){return(0,s.jsx)("div",{className:"social-network__item",children:e},t)}))})},o=function(){return(0,s.jsx)("div",{className:"footer",children:(0,s.jsxs)("div",{className:"footer__wrapper container",children:[(0,s.jsxs)("div",{className:"footer__left",children:[(0,s.jsx)(r.D,{color:r.F.white}),(0,s.jsx)(i,{}),(0,s.jsx)("span",{className:"footer__copyright",children:"\xa9 \u041b\u0438\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0414\u043c\u0438\u0442\u0440\u0438\u044f \u0411\u0435\u0437\u0437\u0443\u0431\u043e\u0432\u0430"})]}),(0,s.jsx)(a,{}),(0,s.jsx)("span",{className:"footer__copyright footer__copyright--mobile",children:"\xa9 \u041b\u0438\u0447\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0414\u043c\u0438\u0442\u0440\u0438\u044f \u0411\u0435\u0437\u0437\u0443\u0431\u043e\u0432\u0430"})]})})},u=n(9439),l=n(2791),d=n(1087),m=n(9605),h=n(3912),f=n(3239),x=n(1449),_=function(){var e=(0,l.useState)(0),t=(0,u.Z)(e,2),n=t[0],r=t[1],a=(0,l.useState)("../../assets/images/users/user.png"),i=(0,u.Z)(a,2),o=i[0],_=i[1],j=(0,l.useState)("auth"),p=(0,u.Z)(j,2),v=p[0],N=p[1],g=(0,m.T)(),k=(0,m.C)((function(e){return e.user})).user;return(0,l.useEffect)((function(){r((0,f.Gb)());var e=(0,x.e)("userId");e&&g((0,h.B)("",e))}),[]),(0,l.useEffect)((function(){k&&(N("account"),k.image&&_(k.image))}),[k]),(0,s.jsxs)("div",{className:"menu",children:[(0,s.jsx)("ul",{className:"menu__text",children:[{title:"Restaurants",link:"/restaurants"},{title:"Deals",link:"/deals"},{title:"My orders",link:"/orders"}].map((function(e,t){return(0,s.jsx)("li",{className:"menu__text-item",children:(0,s.jsx)(d.OL,{to:e.link,end:!0,style:function(e){return{color:e.isActive?"#4E60FF":"inherit"}},children:e.title})},t)}))}),(0,s.jsxs)(d.rU,{to:"/cart",className:"menu__cart",children:[(0,s.jsx)("div",{className:"menu__cart-icon",children:(0,s.jsx)(c.w7,{})}),(0,s.jsx)("span",{className:"menu__cart-counter",children:n})]}),(0,s.jsx)(d.rU,{to:"/".concat(v),className:"menu__user",children:(0,s.jsx)("img",{src:o,alt:"User",className:"menu__user-image",width:"48",height:"48"})})]})},j=function(){var e=(0,l.useState)(""),t=(0,u.Z)(e,2),n=t[0],r=t[1],a=n?"/search/".concat(n):"/reustorants";return(0,s.jsxs)("div",{className:"search",children:[(0,s.jsx)("input",{type:"search",className:"search__input",placeholder:"Search",value:n,onChange:function(e){return function(e){r(e.target.value)}(e)}}),(0,s.jsx)(d.rU,{to:a,className:"search__icon",children:(0,s.jsx)(c.W1,{})})]})},p=function(){var e=(0,l.useState)(!1),t=(0,u.Z)(e,2),n=t[0],a=t[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"header",children:(0,s.jsxs)("div",{className:"container header__wrapper",children:[(0,s.jsx)(r.D,{color:r.F.black}),(0,s.jsx)(j,{}),(0,s.jsx)(_,{}),(0,s.jsx)("div",{className:"header__icon-wrapper",onClick:function(){a(!0)},children:(0,s.jsx)(c.Uq,{})})]})}),n?(0,s.jsx)("div",{className:"header header--mobile",children:(0,s.jsxs)("div",{className:"container header__wrapper",children:[(0,s.jsxs)("div",{className:"header__title",children:[(0,s.jsx)(r.D,{color:r.F.black}),(0,s.jsx)("div",{className:"header__icon-wrapper",onClick:function(){a(!1)},children:(0,s.jsx)(c.aM,{})})]}),(0,s.jsx)(_,{}),(0,s.jsx)(j,{})]})}):null]})},v=function(e){var t=e.children;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{}),(0,s.jsx)("div",{className:"container",children:t}),(0,s.jsx)(o,{})]})}},4098:function(e,t,n){n.d(t,{t:function(){return i}});var r=n(4165),s=n(5861),a=n(9388),c=n(6776),i=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){var s,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e?"products?restaurantId=".concat(e):"products",t.prev=1,n(c.T.actions.fetching()),t.next=5,a.Z.get(s);case 5:i=t.sent,n(c.T.actions.fetchSuccess(i.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(c.T.actions.fetchError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},3239:function(e,t,n){n.d(t,{Gb:function(){return c},Xq:function(){return s},h2:function(){return a}});var r=n(1449);function s(e){var t=(0,r.e)("cart");if(t){var n=!1;t.forEach((function(r,s){r.productId===e.productId&&(t[s].count=r.count+e.count,n=!0)})),n||t.push(e),(0,r.d)("cart",JSON.stringify(t))}else{var s=JSON.stringify([e]);(0,r.d)("cart",s)}}function a(e){var t=(0,r.e)("cart").filter((function(t,n){return n!==e}));(0,r.d)("cart",JSON.stringify(t))}function c(){var e=(0,r.e)("cart");return e?e.reduce((function(e,t){return e+t.count}),0):0}}}]);
//# sourceMappingURL=684.6473c04b.chunk.js.map